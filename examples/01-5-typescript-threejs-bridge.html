<!DOCTYPE html>
<html lang="ja">
	<head>
		<title>Three.js TypeScript Tutorial - 01.5 TypeScript Ã— Three.jsé€£æº</title>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">
		<style>
			body {
				margin: 0;
				background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
				color: #fff;
				font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
				font-size: 14px;
				line-height: 1.6;
				overflow-x: hidden;
			}

			.container {
				max-width: 1200px;
				margin: 0 auto;
				padding: 20px;
			}

			.tutorial-header {
				text-align: center;
				margin-bottom: 30px;
				padding: 25px;
				background: rgba(0, 0, 0, 0.3);
				border-radius: 12px;
				border: 2px solid #7C4DFF;
			}

			.tutorial-title {
				font-size: 28px;
				font-weight: bold;
				margin-bottom: 10px;
				color: #7C4DFF;
				text-shadow: 0 0 15px rgba(124, 77, 255, 0.5);
			}

			.section {
				background: rgba(0, 0, 0, 0.2);
				padding: 20px;
				margin: 20px 0;
				border-radius: 8px;
				border: 1px solid rgba(255, 255, 255, 0.1);
			}

			.section h2 {
				color: #7C4DFF;
				margin-top: 0;
				font-size: 22px;
			}

			.demo-area {
				background: rgba(0, 0, 0, 0.4);
				padding: 20px;
				border-radius: 8px;
				margin: 20px 0;
				border: 1px solid #7C4DFF;
				min-height: 400px;
				position: relative;
			}

			.controls {
				background: rgba(0, 0, 0, 0.6);
				padding: 15px;
				border-radius: 8px;
				margin: 10px 0;
				display: flex;
				flex-wrap: wrap;
				gap: 10px;
			}

			button {
				background: linear-gradient(135deg, #7C4DFF, #651FFF);
				border: none;
				color: white;
				padding: 8px 16px;
				border-radius: 6px;
				cursor: pointer;
				font-size: 13px;
				transition: all 0.3s;
			}

			button:hover {
				background: linear-gradient(135deg, #651FFF, #512DA8);
				transform: translateY(-2px);
			}

			button:active {
				transform: translateY(0);
			}

			.code-example {
				background: #1a1a1a;
				padding: 20px;
				border-radius: 8px;
				margin: 15px 0;
				font-family: 'Consolas', 'Monaco', monospace;
				font-size: 13px;
				overflow-x: auto;
				border: 1px solid #333;
			}

			.code-example pre {
				margin: 0;
				color: #d4d4d4;
			}

			.keyword { color: #569cd6; }
			.string { color: #ce9178; }
			.comment { color: #6a9955; }
			.type { color: #4ec9b0; }
			.number { color: #b5cea8; }

			.comparison {
				display: grid;
				grid-template-columns: 1fr 1fr;
				gap: 20px;
				margin: 20px 0;
			}

			.comparison-item {
				background: rgba(0, 0, 0, 0.3);
				padding: 15px;
				border-radius: 8px;
				border: 1px solid rgba(255, 255, 255, 0.1);
			}

			.comparison-item h3 {
				margin-top: 0;
				color: #FF6B6B;
			}

			.comparison-item.typescript h3 {
				color: #4ECDC4;
			}

			.step {
				background: rgba(76, 175, 80, 0.1);
				padding: 15px;
				border-radius: 8px;
				margin: 10px 0;
				border-left: 4px solid #4CAF50;
			}

			.step-number {
				display: inline-block;
				background: #4CAF50;
				color: white;
				width: 25px;
				height: 25px;
				border-radius: 50%;
				text-align: center;
				line-height: 25px;
				margin-right: 10px;
				font-weight: bold;
			}

			.output {
				background: #0a0a0a;
				padding: 15px;
				border-radius: 8px;
				margin: 10px 0;
				font-family: 'Consolas', monospace;
				color: #00ff00;
				border: 1px solid #333;
				min-height: 100px;
				overflow-y: auto;
				max-height: 200px;
			}

			.type-indicator {
				background: #FF9800;
				color: white;
				padding: 4px 8px;
				border-radius: 4px;
				font-size: 12px;
				margin: 0 5px;
			}

			@media (max-width: 768px) {
				.comparison {
					grid-template-columns: 1fr;
				}
			}
		</style>
	</head>
	<body>
		<div class="container">
			<div class="tutorial-header">
				<div class="tutorial-title">Three.js Ã— TypeScript é€£æºãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«</div>
				<div class="tutorial-subtitle">01.5 - TypeScriptã§Three.jsã‚’ä½¿ã†æº–å‚™</div>
			</div>

			<div class="section">
				<h2>ğŸ”— TypeScriptã§Three.jsã‚’ä½¿ã†ç†ç”±</h2>
				<p>Three.jsã¯å…ƒã€…JavaScriptç”¨ã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã§ã™ãŒã€TypeScriptã‚’ä½¿ç”¨ã™ã‚‹ã“ã¨ã§å¤šãã®åˆ©ç‚¹ãŒã‚ã‚Šã¾ã™ã€‚</p>
				
				<div class="comparison">
					<div class="comparison-item">
						<h3>âŒ JavaScriptç‰ˆã®å•é¡Œ</h3>
						<ul>
							<li>ãƒ¡ã‚½ãƒƒãƒ‰åã‚„å¼•æ•°ã® typo ã«æ°—ã¥ã‹ãªã„</li>
							<li>Three.jsã®APIãŒè¦šãˆã«ãã„</li>
							<li>é–“é•ã£ãŸå‹ã®å€¤ã‚’æ¸¡ã—ã¦ã—ã¾ã†</li>
							<li>ã‚¨ãƒ‡ã‚£ã‚¿ã§ã®è‡ªå‹•è£œå®ŒãŒé™å®šçš„</li>
						</ul>
					</div>
					<div class="comparison-item typescript">
						<h3>âœ… TypeScriptç‰ˆã®åˆ©ç‚¹</h3>
						<ul>
							<li>ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«æ™‚ã«ã‚¨ãƒ©ãƒ¼ã‚’æ¤œå‡º</li>
							<li>IntelliSenseã«ã‚ˆã‚‹è‡ªå‹•è£œå®Œ</li>
							<li>å‹å®‰å…¨æ€§ã«ã‚ˆã‚‹ãƒã‚°ã®æ—©æœŸç™ºè¦‹</li>
							<li>ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°ãŒå®‰å…¨</li>
						</ul>
					</div>
				</div>
			</div>

			<div class="section">
				<h2>ğŸ“¦ å¿…è¦ãªãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®ç†è§£</h2>
				<div class="step">
					<span class="step-number">1</span>
					<strong>three</strong> - Three.jsã®ãƒ¡ã‚¤ãƒ³ãƒ©ã‚¤ãƒ–ãƒ©ãƒª
				</div>
				<div class="step">
					<span class="step-number">2</span>
					<strong>@types/three</strong> - Three.jsã®å‹å®šç¾©ãƒ•ã‚¡ã‚¤ãƒ«
				</div>
				<div class="step">
					<span class="step-number">3</span>
					<strong>typescript</strong> - TypeScriptã‚³ãƒ³ãƒ‘ã‚¤ãƒ©
				</div>
				<div class="step">
					<span class="step-number">4</span>
					<strong>vite</strong> - é«˜é€Ÿãªãƒ“ãƒ«ãƒ‰ãƒ„ãƒ¼ãƒ«
				</div>

				<div class="code-example">
					<pre><code><span class="comment">// package.json ã®ä¾å­˜é–¢ä¿‚ä¾‹</span>
{
  <span class="string">"dependencies"</span>: {
    <span class="string">"three"</span>: <span class="string">"^0.178.0"</span>
  },
  <span class="string">"devDependencies"</span>: {
    <span class="string">"@types/three"</span>: <span class="string">"^0.178.0"</span>,
    <span class="string">"typescript"</span>: <span class="string">"^5.3.0"</span>,
    <span class="string">"vite"</span>: <span class="string">"^5.0.0"</span>
  }
}</code></pre>
				</div>
			</div>

			<div class="section">
				<h2>ğŸ¯ Three.jsã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®å‹ã‚’ç†è§£ã™ã‚‹</h2>
				<p>Three.jsã®ä¸»è¦ãªã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆãŒã©ã®ã‚ˆã†ãªå‹ã‚’æŒã£ã¦ã„ã‚‹ã‹ã‚’ç¢ºèªã—ã¾ã—ã‚‡ã†ã€‚</p>

				<div class="demo-area">
					<h3>ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–ãªå‹ãƒã‚§ãƒƒã‚¯</h3>
					<div class="controls">
						<button onclick="checkVector3Type()">Vector3ã®å‹ã‚’ãƒã‚§ãƒƒã‚¯</button>
						<button onclick="checkColorType()">Colorã®å‹ã‚’ãƒã‚§ãƒƒã‚¯</button>
						<button onclick="checkGeometryType()">Geometryã®å‹ã‚’ãƒã‚§ãƒƒã‚¯</button>
						<button onclick="checkMaterialType()">Materialã®å‹ã‚’ãƒã‚§ãƒƒã‚¯</button>
						<button onclick="checkMeshType()">Meshã®å‹ã‚’ãƒã‚§ãƒƒã‚¯</button>
					</div>
					<div class="output" id="typeCheckOutput"></div>
				</div>

				<div class="code-example">
					<pre><code><span class="comment">// Three.jsã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®å‹ä¾‹</span>
<span class="keyword">import</span> * <span class="keyword">as</span> THREE <span class="keyword">from</span> <span class="string">'three'</span>;

<span class="comment">// Vector3ã®å‹å®‰å…¨ãªä½¿ç”¨</span>
<span class="keyword">const</span> position: <span class="type">THREE.Vector3</span> = <span class="keyword">new</span> THREE.Vector3(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>);
position.set(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>); <span class="comment">// OK</span>
<span class="comment">// position.set("x", "y", "z"); // TypeScriptã‚¨ãƒ©ãƒ¼ï¼</span>

<span class="comment">// Colorã®å‹å®‰å…¨ãªä½¿ç”¨</span>
<span class="keyword">const</span> color: <span class="type">THREE.Color</span> = <span class="keyword">new</span> THREE.Color(<span class="number">0xff0000</span>);
color.setHex(<span class="number">0x00ff00</span>); <span class="comment">// OK</span>
<span class="comment">// color.setHex("red"); // TypeScriptã‚¨ãƒ©ãƒ¼ï¼</span>

<span class="comment">// Meshã®å‹å®‰å…¨ãªä½¿ç”¨</span>
<span class="keyword">const</span> geometry: <span class="type">THREE.BoxGeometry</span> = <span class="keyword">new</span> THREE.BoxGeometry(<span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>);
<span class="keyword">const</span> material: <span class="type">THREE.MeshBasicMaterial</span> = <span class="keyword">new</span> THREE.MeshBasicMaterial();
<span class="keyword">const</span> mesh: <span class="type">THREE.Mesh</span> = <span class="keyword">new</span> THREE.Mesh(geometry, material);</code></pre>
				</div>
			</div>

			<div class="section">
				<h2>ğŸ”§ å®Ÿè·µçš„ãªå‹å®‰å…¨ã‚³ãƒ¼ãƒ‰ã®æ›¸ãæ–¹</h2>
				<p>å®Ÿéš›ã®Three.jsãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ã‚ˆãä½¿ã‚ã‚Œã‚‹å‹å®‰å…¨ãªãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’å­¦ã³ã¾ã—ã‚‡ã†ã€‚</p>

				<div class="demo-area">
					<h3>å‹å®‰å…¨ãªThree.jsã‚³ãƒ¼ãƒ‰ã®å®Ÿä¾‹</h3>
					<div class="controls">
						<button onclick="createSafeVector3()">å‹å®‰å…¨ãªVector3ä½œæˆ</button>
						<button onclick="createSafeColor()">å‹å®‰å…¨ãªColorä½œæˆ</button>
						<button onclick="createSafeMesh()">å‹å®‰å…¨ãªMeshä½œæˆ</button>
						<button onclick="demonstrateTypeError()">å‹ã‚¨ãƒ©ãƒ¼ã®ä¾‹</button>
					</div>
					<div class="output" id="safeCodeOutput"></div>
				</div>

				<div class="code-example">
					<pre><code><span class="comment">// å‹å®‰å…¨ãªãƒ˜ãƒ«ãƒ‘ãƒ¼é–¢æ•°ã®ä¾‹</span>
<span class="keyword">function</span> createSafeVector3(x: <span class="type">number</span>, y: <span class="type">number</span>, z: <span class="type">number</span>): <span class="type">THREE.Vector3</span> {
  <span class="comment">// å¼•æ•°ã®å‹ãƒã‚§ãƒƒã‚¯</span>
  <span class="keyword">if</span> (!<span class="type">Number</span>.isFinite(x) || !<span class="type">Number</span>.isFinite(y) || !<span class="type">Number</span>.isFinite(z)) {
    <span class="keyword">throw</span> <span class="keyword">new</span> Error(<span class="string">'ã™ã¹ã¦ã®å¼•æ•°ã¯æœ‰é™ã®æ•°å€¤ã§ã‚ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™'</span>);
  }
  <span class="keyword">return</span> <span class="keyword">new</span> THREE.Vector3(x, y, z);
}

<span class="comment">// å‹å®‰å…¨ãªColorä½œæˆ</span>
<span class="keyword">function</span> createSafeColor(colorValue: <span class="type">THREE.ColorRepresentation</span>): <span class="type">THREE.Color</span> {
  <span class="keyword">try</span> {
    <span class="keyword">return</span> <span class="keyword">new</span> THREE.Color(colorValue);
  } <span class="keyword">catch</span> (error) {
    console.warn(<span class="string">'ç„¡åŠ¹ãªè‰²å€¤ã§ã™ã€‚ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆè‰²ã‚’ä½¿ç”¨ã—ã¾ã™:'</span>, colorValue);
    <span class="keyword">return</span> <span class="keyword">new</span> THREE.Color(<span class="number">0xffffff</span>);
  }
}

<span class="comment">// å‹å®‰å…¨ãªMeshä½œæˆ</span>
<span class="keyword">function</span> createSafeMesh(
  geometry: <span class="type">THREE.BufferGeometry</span>,
  material: <span class="type">THREE.Material</span>
): <span class="type">THREE.Mesh</span> {
  <span class="keyword">const</span> mesh = <span class="keyword">new</span> THREE.Mesh(geometry, material);
  <span class="comment">// å‹å®‰å…¨ãªåˆæœŸè¨­å®š</span>
  mesh.position.set(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>);
  mesh.rotation.set(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>);
  mesh.scale.set(<span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>);
  <span class="keyword">return</span> mesh;
}</code></pre>
				</div>
			</div>

			<div class="section">
				<h2>ğŸ¨ TypeScriptã§ã®è¨­å®šã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆãƒ‘ã‚¿ãƒ¼ãƒ³</h2>
				<p>Three.jsã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’è¨­å®šã™ã‚‹éš›ã®å‹å®‰å…¨ãªãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’å­¦ã³ã¾ã—ã‚‡ã†ã€‚</p>

				<div class="demo-area">
					<h3>è¨­å®šã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®å®Ÿä¾‹</h3>
					<div class="controls">
						<button onclick="createCameraWithConfig()">ã‚«ãƒ¡ãƒ©ã‚’è¨­å®šã§ä½œæˆ</button>
						<button onclick="createLightWithConfig()">ãƒ©ã‚¤ãƒˆã‚’è¨­å®šã§ä½œæˆ</button>
						<button onclick="createRendererWithConfig()">ãƒ¬ãƒ³ãƒ€ãƒ©ãƒ¼ã‚’è¨­å®šã§ä½œæˆ</button>
					</div>
					<div class="output" id="configOutput"></div>
				</div>

				<div class="code-example">
					<pre><code><span class="comment">// å‹å®‰å…¨ãªè¨­å®šã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆ</span>
<span class="keyword">interface</span> <span class="type">CameraConfig</span> {
  fov: <span class="type">number</span>;
  aspect: <span class="type">number</span>;
  near: <span class="type">number</span>;
  far: <span class="type">number</span>;
  position: {
    x: <span class="type">number</span>;
    y: <span class="type">number</span>;
    z: <span class="type">number</span>;
  };
}

<span class="keyword">interface</span> <span class="type">LightConfig</span> {
  color: <span class="type">THREE.ColorRepresentation</span>;
  intensity: <span class="type">number</span>;
  position: {
    x: <span class="type">number</span>;
    y: <span class="type">number</span>;
    z: <span class="type">number</span>;
  };
}

<span class="comment">// å‹å®‰å…¨ãªãƒ•ã‚¡ã‚¯ãƒˆãƒªãƒ¼é–¢æ•°</span>
<span class="keyword">function</span> createCameraFromConfig(config: <span class="type">CameraConfig</span>): <span class="type">THREE.PerspectiveCamera</span> {
  <span class="keyword">const</span> camera = <span class="keyword">new</span> THREE.PerspectiveCamera(
    config.fov,
    config.aspect,
    config.near,
    config.far
  );
  
  camera.position.set(
    config.position.x,
    config.position.y,
    config.position.z
  );
  
  <span class="keyword">return</span> camera;
}

<span class="keyword">function</span> createLightFromConfig(config: <span class="type">LightConfig</span>): <span class="type">THREE.DirectionalLight</span> {
  <span class="keyword">const</span> light = <span class="keyword">new</span> THREE.DirectionalLight(config.color, config.intensity);
  light.position.set(config.position.x, config.position.y, config.position.z);
  <span class="keyword">return</span> light;
}</code></pre>
				</div>
			</div>

			<div class="section">
				<h2>ğŸš€ æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—</h2>
				<p>TypeScriptã¨Three.jsã®åŸºæœ¬çš„ãªé€£æºæ–¹æ³•ã‚’ç†è§£ã—ã¾ã—ãŸã€‚æ¬¡ã¯å®Ÿéš›ã®ã‚·ãƒ¼ãƒ³ã‚’ä½œæˆã—ã¾ã—ã‚‡ã†ï¼</p>
				<div class="controls">
					<button onclick="goToBasicScene()">01 - åŸºæœ¬ã‚·ãƒ¼ãƒ³ã«é€²ã‚€</button>
				</div>
			</div>
		</div>

		<script type="module">
			import * as THREE from 'three';

			// å‹ãƒã‚§ãƒƒã‚¯é–¢æ•°ç¾¤
			function checkVector3Type() {
				const output = document.getElementById('typeCheckOutput');
				const vector = new THREE.Vector3(1, 2, 3);
				
				output.innerHTML = `
					<div style="color: #4fc3f7;">
						<strong>THREE.Vector3 ã®å‹æƒ…å ±:</strong><br>
						ä½œæˆ: new THREE.Vector3(1, 2, 3)<br>
						å‹: ${vector.constructor.name}<br>
						x: ${vector.x} <span class="type-indicator">number</span><br>
						y: ${vector.y} <span class="type-indicator">number</span><br>
						z: ${vector.z} <span class="type-indicator">number</span><br>
						length(): ${vector.length().toFixed(3)} <span class="type-indicator">number</span><br>
						ä¸»è¦ãƒ¡ã‚½ãƒƒãƒ‰: set(), add(), subtract(), multiply(), normalize()
					</div>
				`;
			}

			function checkColorType() {
				const output = document.getElementById('typeCheckOutput');
				const color = new THREE.Color(0xff6b6b);
				
				output.innerHTML = `
					<div style="color: #4fc3f7;">
						<strong>THREE.Color ã®å‹æƒ…å ±:</strong><br>
						ä½œæˆ: new THREE.Color(0xff6b6b)<br>
						å‹: ${color.constructor.name}<br>
						r: ${color.r.toFixed(3)} <span class="type-indicator">number</span><br>
						g: ${color.g.toFixed(3)} <span class="type-indicator">number</span><br>
						b: ${color.b.toFixed(3)} <span class="type-indicator">number</span><br>
						hex: #${color.getHexString().toUpperCase()} <span class="type-indicator">string</span><br>
						ä¸»è¦ãƒ¡ã‚½ãƒƒãƒ‰: set(), setHex(), setRGB(), setHSL()
					</div>
				`;
			}

			function checkGeometryType() {
				const output = document.getElementById('typeCheckOutput');
				const geometry = new THREE.BoxGeometry(1, 1, 1);
				
				output.innerHTML = `
					<div style="color: #4fc3f7;">
						<strong>THREE.BoxGeometry ã®å‹æƒ…å ±:</strong><br>
						ä½œæˆ: new THREE.BoxGeometry(1, 1, 1)<br>
						å‹: ${geometry.constructor.name}<br>
						vertices: ${geometry.attributes.position.count} <span class="type-indicator">number</span><br>
						faces: ${geometry.attributes.position.count / 3} <span class="type-indicator">number</span><br>
						type: ${geometry.type} <span class="type-indicator">string</span><br>
						ä¸»è¦ãƒ¡ã‚½ãƒƒãƒ‰: dispose(), computeBoundingBox(), computeBoundingSphere()
					</div>
				`;
			}

			function checkMaterialType() {
				const output = document.getElementById('typeCheckOutput');
				const material = new THREE.MeshBasicMaterial({ color: 0x00ff00 });
				
				output.innerHTML = `
					<div style="color: #4fc3f7;">
						<strong>THREE.MeshBasicMaterial ã®å‹æƒ…å ±:</strong><br>
						ä½œæˆ: new THREE.MeshBasicMaterial({ color: 0x00ff00 })<br>
						å‹: ${material.constructor.name}<br>
						color: ${material.color.getHexString().toUpperCase()} <span class="type-indicator">Color</span><br>
						transparent: ${material.transparent} <span class="type-indicator">boolean</span><br>
						opacity: ${material.opacity} <span class="type-indicator">number</span><br>
						ä¸»è¦ãƒ¡ã‚½ãƒƒãƒ‰: clone(), copy(), dispose()
					</div>
				`;
			}

			function checkMeshType() {
				const output = document.getElementById('typeCheckOutput');
				const geometry = new THREE.BoxGeometry(1, 1, 1);
				const material = new THREE.MeshBasicMaterial({ color: 0x00ff00 });
				const mesh = new THREE.Mesh(geometry, material);
				
				output.innerHTML = `
					<div style="color: #4fc3f7;">
						<strong>THREE.Mesh ã®å‹æƒ…å ±:</strong><br>
						ä½œæˆ: new THREE.Mesh(geometry, material)<br>
						å‹: ${mesh.constructor.name}<br>
						geometry: ${mesh.geometry.constructor.name} <span class="type-indicator">BufferGeometry</span><br>
						material: ${mesh.material.constructor.name} <span class="type-indicator">Material</span><br>
						position: (${mesh.position.x}, ${mesh.position.y}, ${mesh.position.z}) <span class="type-indicator">Vector3</span><br>
						ä¸»è¦ãƒ¡ã‚½ãƒƒãƒ‰: clone(), copy(), raycast(), updateMatrix()
					</div>
				`;
			}

			// å‹å®‰å…¨ãªã‚³ãƒ¼ãƒ‰ä¾‹
			function createSafeVector3() {
				const output = document.getElementById('safeCodeOutput');
				
				try {
					function createSafeVector3(x, y, z) {
						if (!Number.isFinite(x) || !Number.isFinite(y) || !Number.isFinite(z)) {
							throw new Error('ã™ã¹ã¦ã®å¼•æ•°ã¯æœ‰é™ã®æ•°å€¤ã§ã‚ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™');
						}
						return new THREE.Vector3(x, y, z);
					}
					
					const vector = createSafeVector3(1, 2, 3);
					output.innerHTML = `
						<div style="color: #4fc3f7;">
							<strong>âœ… å‹å®‰å…¨ãªVector3ä½œæˆæˆåŠŸ:</strong><br>
							createSafeVector3(1, 2, 3)<br>
							çµæœ: Vector3(${vector.x}, ${vector.y}, ${vector.z})<br>
							å‹ãƒã‚§ãƒƒã‚¯: ã™ã¹ã¦ã®å¼•æ•°ãŒæœ‰é™ã®æ•°å€¤ã§ã‚ã‚‹ã“ã¨ã‚’ç¢ºèª
						</div>
					`;
				} catch (error) {
					output.innerHTML = `
						<div style="color: #ff6b6b;">
							<strong>âŒ ã‚¨ãƒ©ãƒ¼:</strong><br>
							${error.message}
						</div>
					`;
				}
			}

			function createSafeColor() {
				const output = document.getElementById('safeCodeOutput');
				
				function createSafeColor(colorValue) {
					try {
						return new THREE.Color(colorValue);
					} catch (error) {
						console.warn('ç„¡åŠ¹ãªè‰²å€¤ã§ã™ã€‚ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆè‰²ã‚’ä½¿ç”¨ã—ã¾ã™:', colorValue);
						return new THREE.Color(0xffffff);
					}
				}
				
				const color1 = createSafeColor(0xff6b6b);
				const color2 = createSafeColor('red');
				
				output.innerHTML = `
					<div style="color: #4fc3f7;">
						<strong>âœ… å‹å®‰å…¨ãªColorä½œæˆæˆåŠŸ:</strong><br>
						createSafeColor(0xff6b6b) â†’ #${color1.getHexString().toUpperCase()}<br>
						createSafeColor('red') â†’ #${color2.getHexString().toUpperCase()}<br>
						ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°: ç„¡åŠ¹ãªè‰²å€¤ã®å ´åˆã¯ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆè‰²ã‚’ä½¿ç”¨
					</div>
				`;
			}

			function createSafeMesh() {
				const output = document.getElementById('safeCodeOutput');
				
				function createSafeMesh(geometry, material) {
					const mesh = new THREE.Mesh(geometry, material);
					// å‹å®‰å…¨ãªåˆæœŸè¨­å®š
					mesh.position.set(0, 0, 0);
					mesh.rotation.set(0, 0, 0);
					mesh.scale.set(1, 1, 1);
					return mesh;
				}
				
				const geometry = new THREE.BoxGeometry(1, 1, 1);
				const material = new THREE.MeshBasicMaterial({ color: 0x00ff00 });
				const mesh = createSafeMesh(geometry, material);
				
				output.innerHTML = `
					<div style="color: #4fc3f7;">
						<strong>âœ… å‹å®‰å…¨ãªMeshä½œæˆæˆåŠŸ:</strong><br>
						createSafeMesh(BoxGeometry, MeshBasicMaterial)<br>
						åˆæœŸä½ç½®: (${mesh.position.x}, ${mesh.position.y}, ${mesh.position.z})<br>
						åˆæœŸå›è»¢: (${mesh.rotation.x}, ${mesh.rotation.y}, ${mesh.rotation.z})<br>
						åˆæœŸã‚¹ã‚±ãƒ¼ãƒ«: (${mesh.scale.x}, ${mesh.scale.y}, ${mesh.scale.z})<br>
						è‡ªå‹•åˆæœŸåŒ–: å®‰å…¨ãªãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤ã§åˆæœŸåŒ–
					</div>
				`;
			}

			function demonstrateTypeError() {
				const output = document.getElementById('safeCodeOutput');
				
				output.innerHTML = `
					<div style="color: #ff9800;">
						<strong>âš ï¸ TypeScriptãŒé˜²ãã‚¨ãƒ©ãƒ¼ä¾‹:</strong><br>
						<code>
						// JavaScript: å®Ÿè¡Œæ™‚ã‚¨ãƒ©ãƒ¼<br>
						const vector = new THREE.Vector3("x", "y", "z");<br>
						<br>
						// TypeScript: ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«æ™‚ã‚¨ãƒ©ãƒ¼<br>
						const vector: THREE.Vector3 = new THREE.Vector3("x", "y", "z");<br>
						// Error: Argument of type 'string' is not assignable to parameter of type 'number'
						</code><br>
						<br>
						TypeScriptã«ã‚ˆã‚Šã€é–“é•ã£ãŸå‹ã®å¼•æ•°ã‚’æ¸¡ã™å‰ã«ã‚¨ãƒ©ãƒ¼ã‚’æ¤œå‡ºã§ãã¾ã™ã€‚
					</div>
				`;
			}

			// è¨­å®šã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®ä¾‹
			function createCameraWithConfig() {
				const output = document.getElementById('configOutput');
				
				const config = {
					fov: 75,
					aspect: 16 / 9,
					near: 0.1,
					far: 1000,
					position: { x: 0, y: 0, z: 5 }
				};
				
				function createCameraFromConfig(config) {
					const camera = new THREE.PerspectiveCamera(
						config.fov,
						config.aspect,
						config.near,
						config.far
					);
					
					camera.position.set(
						config.position.x,
						config.position.y,
						config.position.z
					);
					
					return camera;
				}
				
				const camera = createCameraFromConfig(config);
				
				output.innerHTML = `
					<div style="color: #4fc3f7;">
						<strong>âœ… ã‚«ãƒ¡ãƒ©ä½œæˆæˆåŠŸ:</strong><br>
						è¨­å®š: ${JSON.stringify(config, null, 2)}<br>
						çµæœ: PerspectiveCamera<br>
						ä½ç½®: (${camera.position.x}, ${camera.position.y}, ${camera.position.z})<br>
						è¦–é‡è§’: ${camera.fov}åº¦
					</div>
				`;
			}

			function createLightWithConfig() {
				const output = document.getElementById('configOutput');
				
				const config = {
					color: 0xffffff,
					intensity: 1,
					position: { x: 10, y: 10, z: 5 }
				};
				
				function createLightFromConfig(config) {
					const light = new THREE.DirectionalLight(config.color, config.intensity);
					light.position.set(config.position.x, config.position.y, config.position.z);
					return light;
				}
				
				const light = createLightFromConfig(config);
				
				output.innerHTML = `
					<div style="color: #4fc3f7;">
						<strong>âœ… ãƒ©ã‚¤ãƒˆä½œæˆæˆåŠŸ:</strong><br>
						è¨­å®š: ${JSON.stringify(config, null, 2)}<br>
						çµæœ: DirectionalLight<br>
						ä½ç½®: (${light.position.x}, ${light.position.y}, ${light.position.z})<br>
						å¼·åº¦: ${light.intensity}
					</div>
				`;
			}

			function createRendererWithConfig() {
				const output = document.getElementById('configOutput');
				
				const config = {
					antialias: true,
					alpha: false,
					width: 800,
					height: 600
				};
				
				function createRendererFromConfig(config) {
					const renderer = new THREE.WebGLRenderer({
						antialias: config.antialias,
						alpha: config.alpha
					});
					renderer.setSize(config.width, config.height);
					renderer.setPixelRatio(window.devicePixelRatio);
					return renderer;
				}
				
				const renderer = createRendererFromConfig(config);
				
				output.innerHTML = `
					<div style="color: #4fc3f7;">
						<strong>âœ… ãƒ¬ãƒ³ãƒ€ãƒ©ãƒ¼ä½œæˆæˆåŠŸ:</strong><br>
						è¨­å®š: ${JSON.stringify(config, null, 2)}<br>
						çµæœ: WebGLRenderer<br>
						ã‚µã‚¤ã‚º: ${renderer.domElement.width}x${renderer.domElement.height}<br>
						ã‚¢ãƒ³ãƒã‚¨ã‚¤ãƒªã‚¢ã‚¹: ${config.antialias ? 'æœ‰åŠ¹' : 'ç„¡åŠ¹'}
					</div>
				`;
			}

			function goToBasicScene() {
				alert('æ¬¡ã®ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«: 01-basic-scene-ts.html ã‚’é–‹ã„ã¦ãã ã•ã„ï¼');
			}

			// ã‚°ãƒ­ãƒ¼ãƒãƒ«é–¢æ•°ã¨ã—ã¦å…¬é–‹
			window.checkVector3Type = checkVector3Type;
			window.checkColorType = checkColorType;
			window.checkGeometryType = checkGeometryType;
			window.checkMaterialType = checkMaterialType;
			window.checkMeshType = checkMeshType;
			window.createSafeVector3 = createSafeVector3;
			window.createSafeColor = createSafeColor;
			window.createSafeMesh = createSafeMesh;
			window.demonstrateTypeError = demonstrateTypeError;
			window.createCameraWithConfig = createCameraWithConfig;
			window.createLightWithConfig = createLightWithConfig;
			window.createRendererWithConfig = createRendererWithConfig;
			window.goToBasicScene = goToBasicScene;
		</script>
	</body>
</html>