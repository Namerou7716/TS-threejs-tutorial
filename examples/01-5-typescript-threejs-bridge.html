<!DOCTYPE html>
<html lang="ja">
	<head>
		<title>Three.js TypeScript Tutorial - 01.5 TypeScript × Three.js連携</title>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">
		<style>
			body {
				margin: 0;
				background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
				color: #fff;
				font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
				font-size: 14px;
				line-height: 1.6;
				overflow-x: hidden;
			}

			.container {
				max-width: 1200px;
				margin: 0 auto;
				padding: 20px;
			}

			.tutorial-header {
				text-align: center;
				margin-bottom: 30px;
				padding: 25px;
				background: rgba(0, 0, 0, 0.3);
				border-radius: 12px;
				border: 2px solid #7C4DFF;
			}

			.tutorial-title {
				font-size: 28px;
				font-weight: bold;
				margin-bottom: 10px;
				color: #7C4DFF;
				text-shadow: 0 0 15px rgba(124, 77, 255, 0.5);
			}

			.section {
				background: rgba(0, 0, 0, 0.2);
				padding: 20px;
				margin: 20px 0;
				border-radius: 8px;
				border: 1px solid rgba(255, 255, 255, 0.1);
			}

			.section h2 {
				color: #7C4DFF;
				margin-top: 0;
				font-size: 22px;
			}

			.demo-area {
				background: rgba(0, 0, 0, 0.4);
				padding: 20px;
				border-radius: 8px;
				margin: 20px 0;
				border: 1px solid #7C4DFF;
				min-height: 400px;
				position: relative;
			}

			.controls {
				background: rgba(0, 0, 0, 0.6);
				padding: 15px;
				border-radius: 8px;
				margin: 10px 0;
				display: flex;
				flex-wrap: wrap;
				gap: 10px;
			}

			button {
				background: linear-gradient(135deg, #7C4DFF, #651FFF);
				border: none;
				color: white;
				padding: 8px 16px;
				border-radius: 6px;
				cursor: pointer;
				font-size: 13px;
				transition: all 0.3s;
			}

			button:hover {
				background: linear-gradient(135deg, #651FFF, #512DA8);
				transform: translateY(-2px);
			}

			button:active {
				transform: translateY(0);
			}

			.code-example {
				background: #1a1a1a;
				padding: 20px;
				border-radius: 8px;
				margin: 15px 0;
				font-family: 'Consolas', 'Monaco', monospace;
				font-size: 13px;
				overflow-x: auto;
				border: 1px solid #333;
			}

			.code-example pre {
				margin: 0;
				color: #d4d4d4;
			}

			.keyword { color: #569cd6; }
			.string { color: #ce9178; }
			.comment { color: #6a9955; }
			.type { color: #4ec9b0; }
			.number { color: #b5cea8; }

			.comparison {
				display: grid;
				grid-template-columns: 1fr 1fr;
				gap: 20px;
				margin: 20px 0;
			}

			.comparison-item {
				background: rgba(0, 0, 0, 0.3);
				padding: 15px;
				border-radius: 8px;
				border: 1px solid rgba(255, 255, 255, 0.1);
			}

			.comparison-item h3 {
				margin-top: 0;
				color: #FF6B6B;
			}

			.comparison-item.typescript h3 {
				color: #4ECDC4;
			}

			.step {
				background: rgba(76, 175, 80, 0.1);
				padding: 15px;
				border-radius: 8px;
				margin: 10px 0;
				border-left: 4px solid #4CAF50;
			}

			.step-number {
				display: inline-block;
				background: #4CAF50;
				color: white;
				width: 25px;
				height: 25px;
				border-radius: 50%;
				text-align: center;
				line-height: 25px;
				margin-right: 10px;
				font-weight: bold;
			}

			.output {
				background: #0a0a0a;
				padding: 15px;
				border-radius: 8px;
				margin: 10px 0;
				font-family: 'Consolas', monospace;
				color: #00ff00;
				border: 1px solid #333;
				min-height: 100px;
				overflow-y: auto;
				max-height: 200px;
			}

			.type-indicator {
				background: #FF9800;
				color: white;
				padding: 4px 8px;
				border-radius: 4px;
				font-size: 12px;
				margin: 0 5px;
			}

			@media (max-width: 768px) {
				.comparison {
					grid-template-columns: 1fr;
				}
			}
		</style>
	</head>
	<body>
		<div class="container">
			<div class="tutorial-header">
				<div class="tutorial-title">Three.js × TypeScript 連携チュートリアル</div>
				<div class="tutorial-subtitle">01.5 - TypeScriptでThree.jsを使う準備</div>
			</div>

			<div class="section">
				<h2>🔗 TypeScriptでThree.jsを使う理由</h2>
				<p>Three.jsは元々JavaScript用のライブラリですが、TypeScriptを使用することで多くの利点があります。</p>
				
				<div class="comparison">
					<div class="comparison-item">
						<h3>❌ JavaScript版の問題</h3>
						<ul>
							<li>メソッド名や引数の typo に気づかない</li>
							<li>Three.jsのAPIが覚えにくい</li>
							<li>間違った型の値を渡してしまう</li>
							<li>エディタでの自動補完が限定的</li>
						</ul>
					</div>
					<div class="comparison-item typescript">
						<h3>✅ TypeScript版の利点</h3>
						<ul>
							<li>コンパイル時にエラーを検出</li>
							<li>IntelliSenseによる自動補完</li>
							<li>型安全性によるバグの早期発見</li>
							<li>リファクタリングが安全</li>
						</ul>
					</div>
				</div>
			</div>

			<div class="section">
				<h2>📦 必要なパッケージの理解</h2>
				<div class="step">
					<span class="step-number">1</span>
					<strong>three</strong> - Three.jsのメインライブラリ
				</div>
				<div class="step">
					<span class="step-number">2</span>
					<strong>@types/three</strong> - Three.jsの型定義ファイル
				</div>
				<div class="step">
					<span class="step-number">3</span>
					<strong>typescript</strong> - TypeScriptコンパイラ
				</div>
				<div class="step">
					<span class="step-number">4</span>
					<strong>vite</strong> - 高速なビルドツール
				</div>

				<div class="code-example">
					<pre><code><span class="comment">// package.json の依存関係例</span>
{
  <span class="string">"dependencies"</span>: {
    <span class="string">"three"</span>: <span class="string">"^0.178.0"</span>
  },
  <span class="string">"devDependencies"</span>: {
    <span class="string">"@types/three"</span>: <span class="string">"^0.178.0"</span>,
    <span class="string">"typescript"</span>: <span class="string">"^5.3.0"</span>,
    <span class="string">"vite"</span>: <span class="string">"^5.0.0"</span>
  }
}</code></pre>
				</div>
			</div>

			<div class="section">
				<h2>🎯 Three.jsオブジェクトの型を理解する</h2>
				<p>Three.jsの主要なオブジェクトがどのような型を持っているかを確認しましょう。</p>

				<div class="demo-area">
					<h3>インタラクティブな型チェック</h3>
					<div class="controls">
						<button onclick="checkVector3Type()">Vector3の型をチェック</button>
						<button onclick="checkColorType()">Colorの型をチェック</button>
						<button onclick="checkGeometryType()">Geometryの型をチェック</button>
						<button onclick="checkMaterialType()">Materialの型をチェック</button>
						<button onclick="checkMeshType()">Meshの型をチェック</button>
					</div>
					<div class="output" id="typeCheckOutput"></div>
				</div>

				<div class="code-example">
					<pre><code><span class="comment">// Three.jsオブジェクトの型例</span>
<span class="keyword">import</span> * <span class="keyword">as</span> THREE <span class="keyword">from</span> <span class="string">'three'</span>;

<span class="comment">// Vector3の型安全な使用</span>
<span class="keyword">const</span> position: <span class="type">THREE.Vector3</span> = <span class="keyword">new</span> THREE.Vector3(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>);
position.set(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>); <span class="comment">// OK</span>
<span class="comment">// position.set("x", "y", "z"); // TypeScriptエラー！</span>

<span class="comment">// Colorの型安全な使用</span>
<span class="keyword">const</span> color: <span class="type">THREE.Color</span> = <span class="keyword">new</span> THREE.Color(<span class="number">0xff0000</span>);
color.setHex(<span class="number">0x00ff00</span>); <span class="comment">// OK</span>
<span class="comment">// color.setHex("red"); // TypeScriptエラー！</span>

<span class="comment">// Meshの型安全な使用</span>
<span class="keyword">const</span> geometry: <span class="type">THREE.BoxGeometry</span> = <span class="keyword">new</span> THREE.BoxGeometry(<span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>);
<span class="keyword">const</span> material: <span class="type">THREE.MeshBasicMaterial</span> = <span class="keyword">new</span> THREE.MeshBasicMaterial();
<span class="keyword">const</span> mesh: <span class="type">THREE.Mesh</span> = <span class="keyword">new</span> THREE.Mesh(geometry, material);</code></pre>
				</div>
			</div>

			<div class="section">
				<h2>🔧 実践的な型安全コードの書き方</h2>
				<p>実際のThree.jsプロジェクトでよく使われる型安全なパターンを学びましょう。</p>

				<div class="demo-area">
					<h3>型安全なThree.jsコードの実例</h3>
					<div class="controls">
						<button onclick="createSafeVector3()">型安全なVector3作成</button>
						<button onclick="createSafeColor()">型安全なColor作成</button>
						<button onclick="createSafeMesh()">型安全なMesh作成</button>
						<button onclick="demonstrateTypeError()">型エラーの例</button>
					</div>
					<div class="output" id="safeCodeOutput"></div>
				</div>

				<div class="code-example">
					<pre><code><span class="comment">// 型安全なヘルパー関数の例</span>
<span class="keyword">function</span> createSafeVector3(x: <span class="type">number</span>, y: <span class="type">number</span>, z: <span class="type">number</span>): <span class="type">THREE.Vector3</span> {
  <span class="comment">// 引数の型チェック</span>
  <span class="keyword">if</span> (!<span class="type">Number</span>.isFinite(x) || !<span class="type">Number</span>.isFinite(y) || !<span class="type">Number</span>.isFinite(z)) {
    <span class="keyword">throw</span> <span class="keyword">new</span> Error(<span class="string">'すべての引数は有限の数値である必要があります'</span>);
  }
  <span class="keyword">return</span> <span class="keyword">new</span> THREE.Vector3(x, y, z);
}

<span class="comment">// 型安全なColor作成</span>
<span class="keyword">function</span> createSafeColor(colorValue: <span class="type">THREE.ColorRepresentation</span>): <span class="type">THREE.Color</span> {
  <span class="keyword">try</span> {
    <span class="keyword">return</span> <span class="keyword">new</span> THREE.Color(colorValue);
  } <span class="keyword">catch</span> (error) {
    console.warn(<span class="string">'無効な色値です。デフォルト色を使用します:'</span>, colorValue);
    <span class="keyword">return</span> <span class="keyword">new</span> THREE.Color(<span class="number">0xffffff</span>);
  }
}

<span class="comment">// 型安全なMesh作成</span>
<span class="keyword">function</span> createSafeMesh(
  geometry: <span class="type">THREE.BufferGeometry</span>,
  material: <span class="type">THREE.Material</span>
): <span class="type">THREE.Mesh</span> {
  <span class="keyword">const</span> mesh = <span class="keyword">new</span> THREE.Mesh(geometry, material);
  <span class="comment">// 型安全な初期設定</span>
  mesh.position.set(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>);
  mesh.rotation.set(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>);
  mesh.scale.set(<span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>);
  <span class="keyword">return</span> mesh;
}</code></pre>
				</div>
			</div>

			<div class="section">
				<h2>🎨 TypeScriptでの設定オブジェクトパターン</h2>
				<p>Three.jsのオブジェクトを設定する際の型安全なパターンを学びましょう。</p>

				<div class="demo-area">
					<h3>設定オブジェクトの実例</h3>
					<div class="controls">
						<button onclick="createCameraWithConfig()">カメラを設定で作成</button>
						<button onclick="createLightWithConfig()">ライトを設定で作成</button>
						<button onclick="createRendererWithConfig()">レンダラーを設定で作成</button>
					</div>
					<div class="output" id="configOutput"></div>
				</div>

				<div class="code-example">
					<pre><code><span class="comment">// 型安全な設定オブジェクト</span>
<span class="keyword">interface</span> <span class="type">CameraConfig</span> {
  fov: <span class="type">number</span>;
  aspect: <span class="type">number</span>;
  near: <span class="type">number</span>;
  far: <span class="type">number</span>;
  position: {
    x: <span class="type">number</span>;
    y: <span class="type">number</span>;
    z: <span class="type">number</span>;
  };
}

<span class="keyword">interface</span> <span class="type">LightConfig</span> {
  color: <span class="type">THREE.ColorRepresentation</span>;
  intensity: <span class="type">number</span>;
  position: {
    x: <span class="type">number</span>;
    y: <span class="type">number</span>;
    z: <span class="type">number</span>;
  };
}

<span class="comment">// 型安全なファクトリー関数</span>
<span class="keyword">function</span> createCameraFromConfig(config: <span class="type">CameraConfig</span>): <span class="type">THREE.PerspectiveCamera</span> {
  <span class="keyword">const</span> camera = <span class="keyword">new</span> THREE.PerspectiveCamera(
    config.fov,
    config.aspect,
    config.near,
    config.far
  );
  
  camera.position.set(
    config.position.x,
    config.position.y,
    config.position.z
  );
  
  <span class="keyword">return</span> camera;
}

<span class="keyword">function</span> createLightFromConfig(config: <span class="type">LightConfig</span>): <span class="type">THREE.DirectionalLight</span> {
  <span class="keyword">const</span> light = <span class="keyword">new</span> THREE.DirectionalLight(config.color, config.intensity);
  light.position.set(config.position.x, config.position.y, config.position.z);
  <span class="keyword">return</span> light;
}</code></pre>
				</div>
			</div>

			<div class="section">
				<h2>🚀 次のステップ</h2>
				<p>TypeScriptとThree.jsの基本的な連携方法を理解しました。次は実際のシーンを作成しましょう！</p>
				<div class="controls">
					<button onclick="goToBasicScene()">01 - 基本シーンに進む</button>
				</div>
			</div>
		</div>

		<script type="module">
			import * as THREE from 'three';

			// 型チェック関数群
			function checkVector3Type() {
				const output = document.getElementById('typeCheckOutput');
				const vector = new THREE.Vector3(1, 2, 3);
				
				output.innerHTML = `
					<div style="color: #4fc3f7;">
						<strong>THREE.Vector3 の型情報:</strong><br>
						作成: new THREE.Vector3(1, 2, 3)<br>
						型: ${vector.constructor.name}<br>
						x: ${vector.x} <span class="type-indicator">number</span><br>
						y: ${vector.y} <span class="type-indicator">number</span><br>
						z: ${vector.z} <span class="type-indicator">number</span><br>
						length(): ${vector.length().toFixed(3)} <span class="type-indicator">number</span><br>
						主要メソッド: set(), add(), subtract(), multiply(), normalize()
					</div>
				`;
			}

			function checkColorType() {
				const output = document.getElementById('typeCheckOutput');
				const color = new THREE.Color(0xff6b6b);
				
				output.innerHTML = `
					<div style="color: #4fc3f7;">
						<strong>THREE.Color の型情報:</strong><br>
						作成: new THREE.Color(0xff6b6b)<br>
						型: ${color.constructor.name}<br>
						r: ${color.r.toFixed(3)} <span class="type-indicator">number</span><br>
						g: ${color.g.toFixed(3)} <span class="type-indicator">number</span><br>
						b: ${color.b.toFixed(3)} <span class="type-indicator">number</span><br>
						hex: #${color.getHexString().toUpperCase()} <span class="type-indicator">string</span><br>
						主要メソッド: set(), setHex(), setRGB(), setHSL()
					</div>
				`;
			}

			function checkGeometryType() {
				const output = document.getElementById('typeCheckOutput');
				const geometry = new THREE.BoxGeometry(1, 1, 1);
				
				output.innerHTML = `
					<div style="color: #4fc3f7;">
						<strong>THREE.BoxGeometry の型情報:</strong><br>
						作成: new THREE.BoxGeometry(1, 1, 1)<br>
						型: ${geometry.constructor.name}<br>
						vertices: ${geometry.attributes.position.count} <span class="type-indicator">number</span><br>
						faces: ${geometry.attributes.position.count / 3} <span class="type-indicator">number</span><br>
						type: ${geometry.type} <span class="type-indicator">string</span><br>
						主要メソッド: dispose(), computeBoundingBox(), computeBoundingSphere()
					</div>
				`;
			}

			function checkMaterialType() {
				const output = document.getElementById('typeCheckOutput');
				const material = new THREE.MeshBasicMaterial({ color: 0x00ff00 });
				
				output.innerHTML = `
					<div style="color: #4fc3f7;">
						<strong>THREE.MeshBasicMaterial の型情報:</strong><br>
						作成: new THREE.MeshBasicMaterial({ color: 0x00ff00 })<br>
						型: ${material.constructor.name}<br>
						color: ${material.color.getHexString().toUpperCase()} <span class="type-indicator">Color</span><br>
						transparent: ${material.transparent} <span class="type-indicator">boolean</span><br>
						opacity: ${material.opacity} <span class="type-indicator">number</span><br>
						主要メソッド: clone(), copy(), dispose()
					</div>
				`;
			}

			function checkMeshType() {
				const output = document.getElementById('typeCheckOutput');
				const geometry = new THREE.BoxGeometry(1, 1, 1);
				const material = new THREE.MeshBasicMaterial({ color: 0x00ff00 });
				const mesh = new THREE.Mesh(geometry, material);
				
				output.innerHTML = `
					<div style="color: #4fc3f7;">
						<strong>THREE.Mesh の型情報:</strong><br>
						作成: new THREE.Mesh(geometry, material)<br>
						型: ${mesh.constructor.name}<br>
						geometry: ${mesh.geometry.constructor.name} <span class="type-indicator">BufferGeometry</span><br>
						material: ${mesh.material.constructor.name} <span class="type-indicator">Material</span><br>
						position: (${mesh.position.x}, ${mesh.position.y}, ${mesh.position.z}) <span class="type-indicator">Vector3</span><br>
						主要メソッド: clone(), copy(), raycast(), updateMatrix()
					</div>
				`;
			}

			// 型安全なコード例
			function createSafeVector3() {
				const output = document.getElementById('safeCodeOutput');
				
				try {
					function createSafeVector3(x, y, z) {
						if (!Number.isFinite(x) || !Number.isFinite(y) || !Number.isFinite(z)) {
							throw new Error('すべての引数は有限の数値である必要があります');
						}
						return new THREE.Vector3(x, y, z);
					}
					
					const vector = createSafeVector3(1, 2, 3);
					output.innerHTML = `
						<div style="color: #4fc3f7;">
							<strong>✅ 型安全なVector3作成成功:</strong><br>
							createSafeVector3(1, 2, 3)<br>
							結果: Vector3(${vector.x}, ${vector.y}, ${vector.z})<br>
							型チェック: すべての引数が有限の数値であることを確認
						</div>
					`;
				} catch (error) {
					output.innerHTML = `
						<div style="color: #ff6b6b;">
							<strong>❌ エラー:</strong><br>
							${error.message}
						</div>
					`;
				}
			}

			function createSafeColor() {
				const output = document.getElementById('safeCodeOutput');
				
				function createSafeColor(colorValue) {
					try {
						return new THREE.Color(colorValue);
					} catch (error) {
						console.warn('無効な色値です。デフォルト色を使用します:', colorValue);
						return new THREE.Color(0xffffff);
					}
				}
				
				const color1 = createSafeColor(0xff6b6b);
				const color2 = createSafeColor('red');
				
				output.innerHTML = `
					<div style="color: #4fc3f7;">
						<strong>✅ 型安全なColor作成成功:</strong><br>
						createSafeColor(0xff6b6b) → #${color1.getHexString().toUpperCase()}<br>
						createSafeColor('red') → #${color2.getHexString().toUpperCase()}<br>
						エラーハンドリング: 無効な色値の場合はデフォルト色を使用
					</div>
				`;
			}

			function createSafeMesh() {
				const output = document.getElementById('safeCodeOutput');
				
				function createSafeMesh(geometry, material) {
					const mesh = new THREE.Mesh(geometry, material);
					// 型安全な初期設定
					mesh.position.set(0, 0, 0);
					mesh.rotation.set(0, 0, 0);
					mesh.scale.set(1, 1, 1);
					return mesh;
				}
				
				const geometry = new THREE.BoxGeometry(1, 1, 1);
				const material = new THREE.MeshBasicMaterial({ color: 0x00ff00 });
				const mesh = createSafeMesh(geometry, material);
				
				output.innerHTML = `
					<div style="color: #4fc3f7;">
						<strong>✅ 型安全なMesh作成成功:</strong><br>
						createSafeMesh(BoxGeometry, MeshBasicMaterial)<br>
						初期位置: (${mesh.position.x}, ${mesh.position.y}, ${mesh.position.z})<br>
						初期回転: (${mesh.rotation.x}, ${mesh.rotation.y}, ${mesh.rotation.z})<br>
						初期スケール: (${mesh.scale.x}, ${mesh.scale.y}, ${mesh.scale.z})<br>
						自動初期化: 安全なデフォルト値で初期化
					</div>
				`;
			}

			function demonstrateTypeError() {
				const output = document.getElementById('safeCodeOutput');
				
				output.innerHTML = `
					<div style="color: #ff9800;">
						<strong>⚠️ TypeScriptが防ぐエラー例:</strong><br>
						<code>
						// JavaScript: 実行時エラー<br>
						const vector = new THREE.Vector3("x", "y", "z");<br>
						<br>
						// TypeScript: コンパイル時エラー<br>
						const vector: THREE.Vector3 = new THREE.Vector3("x", "y", "z");<br>
						// Error: Argument of type 'string' is not assignable to parameter of type 'number'
						</code><br>
						<br>
						TypeScriptにより、間違った型の引数を渡す前にエラーを検出できます。
					</div>
				`;
			}

			// 設定オブジェクトの例
			function createCameraWithConfig() {
				const output = document.getElementById('configOutput');
				
				const config = {
					fov: 75,
					aspect: 16 / 9,
					near: 0.1,
					far: 1000,
					position: { x: 0, y: 0, z: 5 }
				};
				
				function createCameraFromConfig(config) {
					const camera = new THREE.PerspectiveCamera(
						config.fov,
						config.aspect,
						config.near,
						config.far
					);
					
					camera.position.set(
						config.position.x,
						config.position.y,
						config.position.z
					);
					
					return camera;
				}
				
				const camera = createCameraFromConfig(config);
				
				output.innerHTML = `
					<div style="color: #4fc3f7;">
						<strong>✅ カメラ作成成功:</strong><br>
						設定: ${JSON.stringify(config, null, 2)}<br>
						結果: PerspectiveCamera<br>
						位置: (${camera.position.x}, ${camera.position.y}, ${camera.position.z})<br>
						視野角: ${camera.fov}度
					</div>
				`;
			}

			function createLightWithConfig() {
				const output = document.getElementById('configOutput');
				
				const config = {
					color: 0xffffff,
					intensity: 1,
					position: { x: 10, y: 10, z: 5 }
				};
				
				function createLightFromConfig(config) {
					const light = new THREE.DirectionalLight(config.color, config.intensity);
					light.position.set(config.position.x, config.position.y, config.position.z);
					return light;
				}
				
				const light = createLightFromConfig(config);
				
				output.innerHTML = `
					<div style="color: #4fc3f7;">
						<strong>✅ ライト作成成功:</strong><br>
						設定: ${JSON.stringify(config, null, 2)}<br>
						結果: DirectionalLight<br>
						位置: (${light.position.x}, ${light.position.y}, ${light.position.z})<br>
						強度: ${light.intensity}
					</div>
				`;
			}

			function createRendererWithConfig() {
				const output = document.getElementById('configOutput');
				
				const config = {
					antialias: true,
					alpha: false,
					width: 800,
					height: 600
				};
				
				function createRendererFromConfig(config) {
					const renderer = new THREE.WebGLRenderer({
						antialias: config.antialias,
						alpha: config.alpha
					});
					renderer.setSize(config.width, config.height);
					renderer.setPixelRatio(window.devicePixelRatio);
					return renderer;
				}
				
				const renderer = createRendererFromConfig(config);
				
				output.innerHTML = `
					<div style="color: #4fc3f7;">
						<strong>✅ レンダラー作成成功:</strong><br>
						設定: ${JSON.stringify(config, null, 2)}<br>
						結果: WebGLRenderer<br>
						サイズ: ${renderer.domElement.width}x${renderer.domElement.height}<br>
						アンチエイリアス: ${config.antialias ? '有効' : '無効'}
					</div>
				`;
			}

			function goToBasicScene() {
				alert('次のチュートリアル: 01-basic-scene-ts.html を開いてください！');
			}

			// グローバル関数として公開
			window.checkVector3Type = checkVector3Type;
			window.checkColorType = checkColorType;
			window.checkGeometryType = checkGeometryType;
			window.checkMaterialType = checkMaterialType;
			window.checkMeshType = checkMeshType;
			window.createSafeVector3 = createSafeVector3;
			window.createSafeColor = createSafeColor;
			window.createSafeMesh = createSafeMesh;
			window.demonstrateTypeError = demonstrateTypeError;
			window.createCameraWithConfig = createCameraWithConfig;
			window.createLightWithConfig = createLightWithConfig;
			window.createRendererWithConfig = createRendererWithConfig;
			window.goToBasicScene = goToBasicScene;
		</script>
	</body>
</html>